{clean_files, [
    "ebin/*"
]}.

{erl_opts, [
    fail_on_warning,
    debug_info
]}.

%% eunit opts - Maven-like output formatting
{eunit_opts, [verbose, {report, {eunit_surefire, [{dir, "../test/eunit_results"}]}}]}.

%% Test coverage
{cover_enabled, true}.

%% deps directory
{lib_dirs, ["deps"]}.

{deps, [
    {meck, "0.8.2", {git, "https://github.com/eproxus/meck.git", {tag, "0.8.2"}}},
    {lager, ".*", {git, "git://github.com/basho/lager.git", {tag, "2.0.3"}}},
    {ibrowse, ".*", {git, "git://github.com/cmullaparthi/ibrowse.git", {tag, "v4.0.1"}}},
    {cowboy, ".*", {git, "git://github.com/extend/cowboy.git", {tag, "1.0.0"}}},
    {gproc, ".*", {git, "git://github.com/uwiger/gproc.git", {tag, "0.3"}}},
    {erlydtl, ".*", {git, "git://github.com/evanmiller/erlydtl.git", {tag, "0.8.0"}}},
    {n2o, ".*", {git, "git://github.com/5HT/n2o", {tag, "1.8.0"}}}
]}.

%% pre-hooks
{pre_hooks, [
    {eunit, "mkdir -p test/eunit_results"}, %% Make dir for eunit' surefire test results
    {eunit, "epmd -daemon"} %% Sometimes, in some cases epmd daemon doesn't start during eunit tests, so we need to force start it
]}.

%% Cleanup
{clean_files, ["test/eunit_results"]}.